<div class="to--do--list--container" (click)="onClickRoot()">
    <div class="to--do--list--content">
        <div class="content--card">
            <header>
                <h1>Список задач</h1>
            </header>
            <main>
                @if(isLoading()) {
                <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
                } @else {
                <div class="d--flex">
                    <ul class="no--bullets tasks--list">
                        @for (task of tasks; track task.id) {
                        <app-to-do-list-item [propTask]="task" [propSelected]="isSelected(task.id)" (propOnDelete)="doDeleteTask($event)"
                            (click)="setSelectedId(task.id, $event)"></app-to-do-list-item>
                        } @empty {
                        <li class="task--field">
                            <p>Список пуст</p>
                        </li>
                        }
                    </ul>
                    @if(selectedItemId != null) {
                    <span class="desc">{{ getSelectedTaskDeskription() }}</span>
                    }
                </div>
                <div class="add--task--form">
                    <div class="w--100">
                        <mat-form-field appTooltip="Новая задача" class="w--100">
                            <input matInput placeholder="Заголовок" type="text" [(ngModel)]="newTaskTittle"
                                maxlength="75">
                        </mat-form-field>
                        <textarea appTooltip="Описание" [(ngModel)]="newTaskDescription" placeholder="Описание" class="textArea"></textarea>
                    </div>
                    <app-button appTooltip="Добавление по-клику" style="height: 4rem;" [propTittle]="'Добавить задачу'" [propType]="'add'"
                        [propDisabled]="isDisabledAddButton()" (propOnClick)="doAddNewTask()"></app-button>
                </div>
                }
            </main>
        </div>
        <footer class="footer">
            <p>Обучение c Otus</p>
            <p>Автор домашнего задания Евгений Греков, г.Рыбинск</p>
        </footer>
    </div>
</div>